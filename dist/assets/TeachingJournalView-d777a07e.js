import{H as w}from"./HeaderMenusComponent-4483b349.js";import{u as S}from"./dataStore-b1aba2cf.js";import{_ as k,M as g,r as f,o as a,c as l,b as c,a as s,w as d,g as h,F as u,f as _,t as p}from"./index-ce235531.js";import{u as v}from"./journalStore-16567636.js";import"./mainRepositories-9a31e8d8.js";import"./axios-28bc18a3.js";const M={name:"TeachingJournalView",components:{HeaderMenusComponent:w},data(){return{dataStore:S(),journalStore:v(),listUnit:null,listClass:null,listMonth:[],selectedOptionMonth:null,selectedOptionUnit:null,selectedOptionClass:null,data:[]}},async mounted(){await this.getMajor(),await this.getMonth(),this.fetch()},methods:{async getMajor(){try{await this.dataStore.major(),this.listUnit=this.dataStore.data,this.selectedOptionUnit=this.listUnit[0],this.handleSelectChangeUnit()}catch(o){console.error(o)}},handleSelectChangeUnit(){this.getClass(this.selectedOptionUnit.id_unit)},async getClass(o){await this.dataStore.class({id_unit:o}),this.listClass=this.dataStore.data,this.selectedOptionClass=this.listClass[0],this.handleSelectChangeClass()},handleSelectChangeClass(){const o=g.getLoginResponse().kode_sekolah,t=g.getLoginResponse().id_pegawai,r=this.selectedOptionClass.id_kelas;this.Url=`https://mobile.adminsekolah.net/rest-api-new/jadwal_pelajaran_webview.php?kode_sekolah=${o}&id_pegawai=${t}&id_kelas=${r}`},async getMonth(){await this.dataStore.month(),this.listMonth=this.dataStore.data;var o=new Date().toLocaleString("id-Id",{month:"long"});let t=this.listMonth;this.selectedOptionMonth=t.find(function(r){return r.month_name===o})},async fetch(){const o=this.selectedOptionClass.id_kelas,t=this.selectedOptionMonth.month_id;await this.journalStore.getReportJournal({month:t,class_id:o}),this.data=this.journalStore.data,console.log(this.data)},handleFloatingButtonClick(){this.$router.push({name:"journal"})}}},x={class:"w-full h-screen"},y={class:"container flex flex-row flex-wrap justify-between p-2 gap-y-3"},U={class:"flex flex-row items-center w-1/2"},O=s("p",{class:"w-10 font-mulish"},"Unit :",-1),j=["value"],b={class:"flex flex-row items-center w-1/2"},V=s("p",{class:"w-1/3 font-mulish"},"Kelas :",-1),B=["value"],D={class:"flex flex-row items-center w-1/2"},J=s("p",{class:"w-1/3 font-mulish"},"Bulan :",-1),F=["value"],L={key:0,class:"container overflow-x-auto"},H=s("p",null,"Data Ada",-1),N=[H],R={key:1,class:"flex items-center justify-center h-1/2"},T={class:"flex flex-col"},K=s("p",{class:"font-mulish text-primaryColors"},"Data Masih Kosong",-1),q={class:"fixed right-5 bottom-5"};function z(o,t,r,A,n,i){const C=f("HeaderMenusComponent"),m=f("font-awesome-icon");return a(),l("div",x,[c(C,{title:"Jurnal Mengajar"}),s("div",y,[s("div",U,[O,d(s("select",{class:"w-2/3 select select-info",onChange:t[0]||(t[0]=(...e)=>i.handleSelectChangeUnit&&i.handleSelectChangeUnit(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedOptionUnit=e)},[(a(!0),l(u,null,_(n.listUnit,e=>(a(),l("option",{key:e,value:e},p(e.nama_unit),9,j))),128))],544),[[h,n.selectedOptionUnit]])]),s("div",b,[V,d(s("select",{class:"w-2/3 select select-info",onChange:t[2]||(t[2]=(...e)=>i.handleSelectChangeClass&&i.handleSelectChangeClass(...e)),"onUpdate:modelValue":t[3]||(t[3]=e=>n.selectedOptionClass=e)},[(a(!0),l(u,null,_(n.listClass,e=>(a(),l("option",{key:e,value:e},p(e.nama_kelas),9,B))),128))],544),[[h,n.selectedOptionClass]])]),s("div",D,[J,d(s("select",{class:"w-2/3 select select-info",onChange:t[4]||(t[4]=(...e)=>i.handleSelectChangeClass&&i.handleSelectChangeClass(...e)),"onUpdate:modelValue":t[5]||(t[5]=e=>n.selectedOptionMonth=e)},[(a(!0),l(u,null,_(n.listMonth,e=>(a(),l("option",{key:e,value:e},p(e.month_name),9,F))),128))],544),[[h,n.selectedOptionMonth]])])]),n.data.data_jurnal&&n.data.data_jurnal.length>0?(a(),l("div",L,N)):(a(),l("div",R,[s("div",T,[c(m,{icon:["far","circle-question"],size:"xl",class:"text-primaryColors"}),K])])),s("div",q,[s("button",{class:"text-white rounded-full shadow-md w-14 h-14 bg-primaryColors",onClick:t[6]||(t[6]=(...e)=>i.handleFloatingButtonClick&&i.handleFloatingButtonClick(...e))},[c(m,{icon:["fas","plus"]})])])])}const X=k(M,[["render",z]]);export{X as default};
